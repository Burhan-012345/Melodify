<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lavender Music Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/player.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Melodify</h1>
            <div class="header-controls">
                <button id="lyricsBtn" class="icon-btn" title="Lyrics">
                    <i class="fas fa-align-left"></i>
                </button>
                <button id="equalizerBtn" class="icon-btn" title="Equalizer">
                    <i class="fas fa-sliders-h"></i>
                </button>
                <div class="settings-icon" id="settingsBtn" title="Settings">
                    <i class="fas fa-cog"></i>
                </div>
            </div>
        </header>

        <div class="player-container">
            <div class="now-playing" id="nowPlaying">
                <div class="album-art">
                    <img id="currentAlbumArt" src="https://via.placeholder.com/300" alt="Album Art">
                    <canvas id="visualizer"></canvas>
                </div>
                <div class="song-info">
                    <h2 id="currentSongTitle">No Song Selected</h2>
                    <p id="currentArtist">Select a song to play</p>
                    <div class="progress-container">
                        <input type="range" id="seekSlider" min="0" max="100" value="0" step="0.1">
                        <div class="time-info">
                            <span id="currentTime">0:00</span>
                            <span id="duration">0:00</span>
                        </div>
                    </div>
                    <div class="controls">
                        <button id="prevBtn" title="Previous"><i class="fas fa-step-backward"></i></button>
                        <button id="playBtn" title="Play/Pause"><i class="fas fa-play"></i></button>
                        <button id="nextBtn" title="Next"><i class="fas fa-step-forward"></i></button>
                        <button id="fullscreenBtn" title="Fullscreen"><i class="fas fa-expand"></i></button>
                        <div class="volume-control">
                            <i class="fas fa-volume-up" id="volumeIcon"></i>
                            <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.7" title="Volume">
                        </div>
                    </div>
                </div>
            </div>

            <div class="playlist-container">
                <div class="playlist-header">
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="Search songs...">
                        <button id="searchBtn"><i class="fas fa-search"></i></button>
                    </div>
                    <div class="playlist-actions">
                        <button id="shuffleBtn" title="Shuffle"><i class="fas fa-random"></i></button>
                        <button id="repeatBtn" title="Repeat"><i class="fas fa-redo"></i></button>
                        <button id="addSongBtn" title="Add Songs"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
                <ul class="playlist" id="playlist">
                    <!-- Songs will be added here by JavaScript -->
                </ul>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-content">
            <div class="settings-header">
                <h2>Settings</h2>
                <span class="close-settings" id="closeSettings">&times;</span>
            </div>
            <div class="settings-body">
                <div class="settings-tabs">
                    <button class="tab-btn active" data-tab="general">General</button>
                    <button class="tab-btn" data-tab="audio">Audio</button>
                    <button class="tab-btn" data-tab="playback">Playback</button>
                    <button class="tab-btn" data-tab="hotkeys">Hotkeys</button>
                </div>
                
                <div class="tab-content active" id="general-tab">
                    <div class="setting-group">
                        <h3>Theme</h3>
                        <div class="theme-options">
                            <button class="theme-btn lavender active" data-theme="lavender">Lavender</button>
                            <button class="theme-btn dark" data-theme="dark">Dark</button>
                            <button class="theme-btn light" data-theme="light">Light</button>
                            <button class="theme-btn ocean" data-theme="ocean">Ocean</button>
                            <button class="theme-btn forest" data-theme="forest">Forest</button>
                        </div>
                    </div>
                    <div class="setting-group">
                        <h3>Interface</h3>
                        <label>
                            <input type="checkbox" id="compactModeCheckbox">
                            Compact mode
                        </label>
                        <label>
                            <input type="checkbox" id="showVisualizerCheckbox" checked>
                            Show audio visualizer
                        </label>
                        <label>
                            <input type="checkbox" id="showLyricsCheckbox">
                            Show lyrics when available
                        </label>
                    </div>
                    <div class="setting-group">
                        <h3>Default Volume</h3>
                        <input type="range" id="defaultVolume" min="0" max="1" step="0.1" value="0.7">
                        <span id="volumeValue">70%</span>
                    </div>
                </div>
                
                <div class="tab-content" id="audio-tab">
                    <div class="setting-group">
                        <h3>Audio Quality</h3>
                        <select id="audioQuality">
                            <option value="high">High (320kbps)</option>
                            <option value="medium" selected>Medium (192kbps)</option>
                            <option value="low">Low (128kbps)</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <h3>Equalizer Presets</h3>
                        <select id="equalizerPreset">
                            <option value="flat" selected>Flat</option>
                            <option value="pop">Pop</option>
                            <option value="rock">Rock</option>
                            <option value="jazz">Jazz</option>
                            <option value="classical">Classical</option>
                            <option value="bass">Bass Boost</option>
                            <option value="treble">Treble Boost</option>
                            <option value="vocal">Vocal Boost</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <h3>Crossfade</h3>
                        <label>
                            <input type="checkbox" id="crossfadeCheckbox">
                            Enable crossfade between songs
                        </label>
                        <div class="sub-setting" id="crossfadeSettings">
                            <label>Crossfade duration (seconds):</label>
                            <input type="range" id="crossfadeDuration" min="1" max="10" step="1" value="3" disabled>
                            <span id="crossfadeValue">3s</span>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="playback-tab">
                    <div class="setting-group">
                        <h3>Playback</h3>
                        <label>
                            <input type="checkbox" id="autoplayCheckbox" checked>
                            Autoplay next song
                        </label>
                        <label>
                            <input type="checkbox" id="shuffleCheckbox">
                            Shuffle playlist
                        </label>
                        <label>
                            <input type="checkbox" id="loopCheckbox">
                            Loop current song
                        </label>
                        <label>
                            <input type="checkbox" id="rememberPositionCheckbox" checked>
                            Remember playback position
                        </label>
                    </div>
                    <div class="setting-group">
                        <h3>Sleep Timer</h3>
                        <select id="sleepTimer">
                            <option value="0" selected>Off</option>
                            <option value="5">5 minutes</option>
                            <option value="15">15 minutes</option>
                            <option value="30">30 minutes</option>
                            <option value="60">1 hour</option>
                            <option value="90">1.5 hours</option>
                            <option value="120">2 hours</option>
                            <option value="custom">Custom</option>
                        </select>
                        <div class="sub-setting" id="customSleepTimer">
                            <label>Custom time (minutes):</label>
                            <input type="number" id="customSleepTime" min="1" max="300" value="30" disabled>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="hotkeys-tab">
                    <div class="setting-group">
                        <h3>Keyboard Shortcuts</h3>
                        <div class="hotkey-item">
                            <span>Play/Pause</span>
                            <span class="hotkey">Space</span>
                        </div>
                        <div class="hotkey-item">
                            <span>Next Track</span>
                            <span class="hotkey">→</span>
                        </div>
                        <div class="hotkey-item">
                            <span>Previous Track</span>
                            <span class="hotkey">←</span>
                        </div>
                        <div class="hotkey-item">
                            <span>Volume Up</span>
                            <span class="hotkey">↑</span>
                        </div>
                        <div class="hotkey-item">
                            <span>Volume Down</span>
                            <span class="hotkey">↓</span>
                        </div>
                        <div class="hotkey-item">
                            <span>Toggle Mute</span>
                            <span class="hotkey">M</span>
                        </div>
                        <div class="hotkey-item">
                            <span>Toggle Fullscreen</span>
                            <span class="hotkey">F</span>
                        </div>
                    </div>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="enableHotkeysCheckbox" checked>
                            Enable keyboard shortcuts
                        </label>
                    </div>
                </div>
            </div>
            <div class="settings-footer">
                <button id="saveSettings">Save Settings</button>
                <button id="resetSettings">Reset to Default</button>
            </div>
        </div>
    </div>

    <!-- Equalizer Modal -->
    <div class="equalizer-modal" id="equalizerModal">
        <div class="equalizer-content">
            <div class="equalizer-header">
                <h2>Equalizer</h2>
                <span class="close-equalizer" id="closeEqualizer">&times;</span>
            </div>
            <div class="equalizer-body">
                <div class="equalizer-bands">
                    <div class="eq-band">
                        <label>60Hz</label>
                        <input type="range" class="eq-slider" min="-12" max="12" value="0" step="1" data-band="60">
                    </div>
                    <div class="eq-band">
                        <label>150Hz</label>
                        <input type="range" class="eq-slider" min="-12" max="12" value="0" step="1" data-band="150">
                    </div>
                    <div class="eq-band">
                        <label>400Hz</label>
                        <input type="range" class="eq-slider" min="-12" max="12" value="0" step="1" data-band="400">
                    </div>
                    <div class="eq-band">
                        <label>1kHz</label>
                        <input type="range" class="eq-slider" min="-12" max="12" value="0" step="1" data-band="1000">
                    </div>
                    <div class="eq-band">
                        <label>2.4kHz</label>
                        <input type="range" class="eq-slider" min="-12" max="12" value="0" step="1" data-band="2400">
                    </div>
                    <div class="eq-band">
                        <label>15kHz</label>
                        <input type="range" class="eq-slider" min="-12" max="12" value="0" step="1" data-band="15000">
                    </div>
                </div>
                <div class="equalizer-presets">
                    <button class="eq-preset-btn" data-preset="flat">Flat</button>
                    <button class="eq-preset-btn" data-preset="pop">Pop</button>
                    <button class="eq-preset-btn" data-preset="rock">Rock</button>
                    <button class="eq-preset-btn" data-preset="jazz">Jazz</button>
                    <button class="eq-preset-btn" data-preset="classical">Classical</button>
                    <button class="eq-preset-btn" data-preset="bass">Bass Boost</button>
                    <button class="eq-preset-btn" data-preset="treble">Treble Boost</button>
                    <button class="eq-preset-btn" data-preset="vocal">Vocal Boost</button>
                </div>
            </div>
            <div class="equalizer-footer">
                <button id="resetEqualizer">Reset</button>
                <button id="saveEqualizer">Save</button>
            </div>
        </div>
    </div>

    <!-- Lyrics Modal -->
    <div class="lyrics-modal" id="lyricsModal">
        <div class="lyrics-content">
            <div class="lyrics-header">
                <h2 id="lyricsTitle">Lyrics</h2>
                <span class="close-lyrics" id="closeLyrics">&times;</span>
            </div>
            <div class="lyrics-body" id="lyricsText">
                <p>No lyrics available for this song.</p>
            </div>
        </div>
    </div>

    <!-- Fullscreen Player -->
    <div class="fullscreen-player" id="fullscreenPlayer">
        <div class="fullscreen-content">
            <div class="fullscreen-album-art">
                <img id="fullscreenAlbumArt" src="https://via.placeholder.com/800" alt="Album Art">
                <canvas id="fullscreenVisualizer"></canvas>
            </div>
            <div class="fullscreen-song-info">
                <h2 id="fullscreenSongTitle">No Song Selected</h2>
                <p id="fullscreenArtist">Select a song to play</p>
                <div class="fullscreen-progress-container">
                    <input type="range" id="fullscreenSeekSlider" min="0" max="100" value="0" step="0.1">
                    <div class="fullscreen-time-info">
                        <span id="fullscreenCurrentTime">0:00</span>
                        <span id="fullscreenDuration">0:00</span>
                    </div>
                </div>
                <div class="fullscreen-controls">
                    <button id="fullscreenPrevBtn" title="Previous"><i class="fas fa-step-backward"></i></button>
                    <button id="fullscreenPlayBtn" title="Play/Pause"><i class="fas fa-play"></i></button>
                    <button id="fullscreenNextBtn" title="Next"><i class="fas fa-step-forward"></i></button>
                    <button id="exitFullscreenBtn" title="Exit Fullscreen"><i class="fas fa-compress"></i></button>
                    <div class="fullscreen-volume-control">
                        <i class="fas fa-volume-up" id="fullscreenVolumeIcon"></i>
                        <input type="range" id="fullscreenVolumeSlider" min="0" max="1" step="0.01" value="0.7" title="Volume">
                    </div>
                </div>
                <div class="fullscreen-lyrics" id="fullscreenLyrics">
                    <p>No lyrics available</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Song Modal -->
    <div class="add-song-modal" id="addSongModal">
        <div class="add-song-content">
            <div class="add-song-header">
                <h2>Add Songs</h2>
                <span class="close-add-song" id="closeAddSong">&times;</span>
            </div>
            <div class="add-song-body">
                <div class="add-method">
                    <h3>Add from URL</h3>
                    <div class="url-form">
                        <input type="text" id="songUrl" placeholder="Audio file URL">
                        <input type="text" id="songTitle" placeholder="Song title">
                        <input type="text" id="songArtist" placeholder="Artist">
                        <input type="text" id="songAlbumArt" placeholder="Album art URL (optional)">
                        <button id="addUrlSongBtn">Add Song</button>
                    </div>
                </div>
                <div class="add-method">
                    <h3>Upload from Device</h3>
                    <div class="upload-form">
                        <input type="file" id="songUpload" accept="audio/*" multiple>
                        <div class="upload-progress" id="uploadProgress">
                            <div class="progress-bar"></div>
                            <span class="progress-text">0%</span>
                        </div>
                        <button id="startUploadBtn" disabled>Upload Selected Files</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <audio id="audioPlayer"></audio>

    <script src="js/player.js"></script>
</body>
</html>